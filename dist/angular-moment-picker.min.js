/*! Angular Moment Picker - v0.5.6 - https://github.com/indrimuska/angular-moment-picker - (c) 2015 Indri Muska - MIT */
!function(a){var c,d,e,f,g,h,i,b=function(){function b(){defaults={locale:"en",format:"L LT",minView:"decade",maxView:"day",datetimeDefault:!0,startView:"month",today:!1,leftArrow:"&larr;",rightArrow:"&rarr;",yearsFormat:"YYYY",monthsFormat:"MMM",daysFormat:"D",hoursFormat:"HH:[00]",secondsFormat:"ss",minutesStep:5,secondsStep:1}}return b.prototype.options=function(b){return a.extend(defaults,b),a.copy(defaults)},b.prototype.$get=function(){return defaults},b}(),j=function(){function b(a){var b,c,d,e;if(a)return a.getClientRects().length?(d=a.getBoundingClientRect(),d.width||d.height?(e=a.ownerDocument,c=null!=e&&e===e.window?a:9===e.nodeType&&e.defaultView,b=e.documentElement,{top:d.top+c.pageYOffset-b.clientTop,left:d.left+c.pageXOffset-b.clientLeft}):d):{top:0,left:0}}function j(a,b,j,k,l,m,n){this.restrict="A",this.scope={model:"=momentPicker",locale:"@?",format:"@?",minView:"@?",maxView:"@?",datetimeDefault:"@?",startView:"@?",minDate:"=?",maxDate:"=?",today:"=?",disabled:"=?disable",change:"&?"},c=a,d=b,e=j,h=m,f=k,g=l,i=n}return j.prototype.$inject=["$timeout","$sce","$compile","$document","$window","momentPicker"],j.prototype.link=function(j,k,l){j.template='<div class="moment-picker-container {{view.selected}}-view" ng-show="view.isOpen && !disabled" ng-class="{\'moment-picker-disabled\': disabled, \'open\': view.isOpen}"><table class="header-view"><thead><tr><th ng-class="{disabled: !view.previous.selectable}" ng-bind-html="view.previous.label" ng-click="view.previous.set()"></th><th ng-bind="view.title" ng-click="view.setParentView()"></th><th ng-class="{disabled: !view.next.selectable}" ng-bind-html="view.next.label" ng-click="view.next.set()"></th></tr></thead></table><div class="moment-picker-specific-views"><table ng-if="view.selected == \'decade\'"><tbody><tr ng-repeat="fourYear in decadeView.fourYears"><td ng-repeat="year in fourYear track by year.year" ng-class="year.class" ng-bind="year.label" ng-click="decadeView.setYear(year)"></td></tr></tbody></table><table ng-if="view.selected == \'year\'"><tbody><tr ng-repeat="fourMonth in yearView.fourMonths"><td ng-repeat="month in fourMonth track by month.month" ng-class="month.class" ng-bind="month.label" ng-click="yearView.setMonth(month)"></td></tr></tbody></table><table ng-if="view.selected == \'month\'"><thead><tr><th ng-repeat="day in monthView.days" ng-bind="day"></th></tr></thead><tbody><tr ng-repeat="days in monthView.weeks"><td ng-repeat="day in days track by day.date" ng-class="day.class" ng-bind="day.label" ng-click="monthView.setDate(day)"></td></tr></tbody></table><table ng-if="view.selected == \'day\'"><tbody><tr ng-repeat="threeHours in dayView.threeHours"><td ng-repeat="hour in threeHours track by hour.hour" ng-class="hour.class" ng-bind="hour.label" ng-click="dayView.setHour(hour)"></td></tr></tbody></table><table ng-if="view.selected == \'hour\'"><tbody><tr ng-repeat="minutes in hourView.minutes"><td ng-repeat="minute in minutes" ng-class="minute.class" ng-bind="minute.label" ng-click="hourView.setMinute(minute)"></td></tr></tbody></table><table ng-if="view.selected == \'minute\'"><tbody><tr ng-repeat="seconds in minuteView.seconds"><td ng-repeat="second in seconds" ng-class="second.class" ng-bind="second.label" ng-click="minuteView.setSecond(second)"></td></tr></tbody></table></div></div>',"false"===j.datetimeDefault&&(j.maxView="month"),a.forEach(["locale","format","minView","maxView","startView","today","leftArrow","rightArrow"],function(b){a.isDefined(j[b])||(j[b]=i[b]),a.isDefined(l[b])||(l[b]=j[b])}),j.momentToDate=function(b){return a.isDefined(b)&&b.isValid()?b.clone().toDate():void 0},j.valueUpdate=function(){j.value=j.momentToDate(j.valueMoment)},j.limits={isAfterOrEqualMin:function(b,c){return!a.isDefined(j.minDateMoment)||b.isAfter(j.minDateMoment,c)||b.isSame(j.minDateMoment,c)},isBeforeOrEqualMax:function(b,c){return!a.isDefined(j.maxDateMoment)||b.isBefore(j.maxDateMoment,c)||b.isSame(j.maxDateMoment,c)},isSelectable:function(a,b){return j.limits.isAfterOrEqualMin(a,b)&&j.limits.isBeforeOrEqualMax(a,b)},checkValue:function(){a.isDefined(j.valueMoment)&&(j.limits.isAfterOrEqualMin(j.valueMoment)||j.valueUpdate(j.valueMoment=j.minDateMoment.clone()),j.limits.isBeforeOrEqualMax(j.valueMoment)||j.valueUpdate(j.valueMoment=j.maxDateMoment.clone()))},checkView:function(){a.isDefined(j.view.moment)||(j.view.moment=moment().locale(j.locale)),j.limits.isAfterOrEqualMin(j.view.moment)||(j.view.moment=j.minDateMoment.clone()),j.limits.isBeforeOrEqualMax(j.view.moment)||(j.view.moment=j.maxDateMoment.clone()),j.view.update()}},j.views={all:["decade","year","month","day","hour","minute"],formats:{decade:"Y{1,2}(?!Y)|YYYY|[Ll]{1,4}(?!T)",year:"M{1,4}(?![Mo])|Mo|Q",month:"[Dd]{1,4}(?![Ddo])|DDDo|[Dd]o|[Ww]{1,2}(?![Wwo])|[Ww]o|[Ee]|L{1,2}(?!T)|l{1,2}",day:"[Hh]{1,2}|LTS?",hour:"m{1,2}|[Ll]{3,4}|LT(?!S)",minute:"s{1,2}|S{1,}|X|LTS"},detectMinMax:function(){var b,c;a.forEach(j.views.formats,function(d,e){var f=new RegExp("("+d+")(?![^[]*])","g");j.format.match(f)&&(a.isDefined(b)||(b=e),c=e)}),b=a.isDefined(b)?Math.max(0,j.views.all.indexOf(b)):0,c=a.isDefined(c)?Math.min(j.views.all.length-1,j.views.all.indexOf(c)):j.views.all.length-1,b>j.views.all.indexOf(j.minView)&&(j.minView=j.views.all[b]),c<j.views.all.indexOf(j.maxView)&&(j.maxView=j.views.all[c])}},j.view={isOpen:!1,selected:j.startView,update:function(){j.view.value=j.momentToDate(j.view.moment)},toggle:function(){j.view.isOpen?j.view.close():j.view.open()},open:function(){a.forEach(f[0].querySelectorAll(".moment-picker-container.open"),function(b){((a.element(b).scope().view||{}).close||a.noop)()}),j.disabled||(j.view.isOpen=!0),c(j.view.position,0,!1)},close:function(){j.view.isOpen=!1,j.view.selected=j.startView},position:function(){j.picker.removeClass("top").removeClass("left");var a=j.container[0],c=b(a),d=c.top-h.pageYOffset,e=c.left-h.pageXOffset,f=h.innerWidth,g=h.innerHeight;d+h.pageYOffset-a.offsetHeight>0&&d>g/2&&j.picker.addClass("top"),e+a.offsetWidth>f&&j.picker.addClass("left")},unit:function(){return"decade"==j.view.selected?10:1},precision:function(){return j.view.selected.replace("decade","year")},title:"",previous:{selectable:!0,label:d.trustAsHtml(j.leftArrow),selectable:!0,set:function(){j.view.previous.selectable&&j.view.update(j.view.moment.subtract(j.view.unit(),j.view.precision()).toDate())}},next:{selectable:!0,label:d.trustAsHtml(j.rightArrow),set:function(){j.view.next.selectable&&j.view.update(j.view.moment.add(j.view.unit(),j.view.precision()).toDate())}},setParentView:function(){j.view.change(j.views.all[Math.max(0,j.views.all.indexOf(j.view.selected)-1)])},render:function(){var a=j.view.moment.clone().startOf(j.view.precision()).subtract(j.view.unit(),j.view.precision()),b=j.view.moment.clone().endOf(j.view.precision()).add(j.view.unit(),j.view.precision());j.view.previous.selectable=j.limits.isAfterOrEqualMin(a,j.view.precision()),j.view.previous.label=d.trustAsHtml(j.view.previous.selectable?j.leftArrow:"&nbsp;"),j.view.next.selectable=j.limits.isBeforeOrEqualMax(b,j.view.precision()),j.view.next.label=d.trustAsHtml(j.view.next.selectable?j.rightArrow:"&nbsp;"),j.view.title=j[j.view.selected+"View"].render()},change:function(a){var b=j.views.all.indexOf(a),c=j.views.all.indexOf(j.minView),d=j.views.all.indexOf(j.maxView);b<0||b>d?(j.valueUpdate(j.valueMoment=j.view.moment.clone()),j.view.close()):b>=c&&(j.view.selected=a)}},j.decadeView={fourYears:{},render:function(){var a=j.view.moment.clone();firstYear=10*Math.floor(a.year()/10)-1,lastYear=firstYear+11,a.year(firstYear),j.decadeView.fourYears={};for(var b=0;b<12;b++){var c=Math.floor(b/4),d=j.limits.isSelectable(a,"year");j.decadeView.fourYears[c]||(j.decadeView.fourYears[c]=[]),j.decadeView.fourYears[c].push({label:a.format(i.yearsFormat),year:a.year(),class:!d||[0,11].indexOf(b)>=0?"disabled":a.isSame(j.valueMoment,"year")?"selected":"",selectable:d}),a.add(1,"years")}return[a.subtract(2,"years").format("YYYY"),a.subtract(9,"years").format("YYYY")].reverse().join(" - ")},setYear:function(a){a.selectable&&(j.view.update(j.view.moment.year(a.year)),j.view.change("year"))}},j.yearView={fourMonths:{},render:function(){var a=j.view.moment.clone().startOf("year"),b=moment.monthsShort();return j.yearView.fourMonths={},b.forEach(function(b,c){var d=Math.floor(c/4),e=j.limits.isSelectable(a,"month");j.yearView.fourMonths[d]||(j.yearView.fourMonths[d]=[]),j.yearView.fourMonths[d].push({label:a.format(i.monthsFormat),year:a.year(),month:a.month(),class:e?a.isSame(j.valueMoment,"month")?"selected":"":"disabled",selectable:e}),a.add(1,"months")}),j.view.moment.format("YYYY")},setMonth:function(a){a.selectable&&(j.view.update(j.view.moment.year(a.year).month(a.month)),j.view.change("month"))}},j.monthView={days:function(){for(var a=[],b=moment().locale(j.locale).startOf("week"),c=0;c<7;c++)a.push(b.format("dd")),b.add(1,"days");return a}(),weeks:[],render:function(){var b=j.view.moment.month(),c=j.view.moment.clone().startOf("month").startOf("week"),e=(j.view.moment.clone().endOf("month").endOf("week"),c.week()),f=e+5;weeks={},j.monthView.weeks=[];for(var g=e;g<=f;g++)weeks[g]="0000000".split("").map(function(){var a=j.limits.isSelectable(c,"day"),d={label:c.format(i.daysFormat),year:c.year(),date:c.date(),month:c.month(),class:[j.today&&c.isSame(new Date,"day")?"today":"",a&&c.month()==b?c.isSame(j.valueMoment,"day")?"selected":"":"disabled"].join(" ").trim(),selectable:a};return c.add(1,"days"),d});return a.forEach(weeks,function(a){j.monthView.weeks.push(a)}),j.view.moment.format("MMMM YYYY")},setDate:function(a){a.selectable&&(j.view.update(j.view.moment.year(a.year).month(a.month).date(a.date)),j.view.change("day"))}},j.dayView={threeHours:[],render:function(){var a=j.view.moment.clone().startOf("day");moment.localeData().longDateFormat("LT").replace(/[aA]/,"");j.dayView.threeHours=[];for(var c=0;c<24;c++){var d=Math.floor(c/4),e=j.limits.isSelectable(a,"hour");j.dayView.threeHours[d]||(j.dayView.threeHours[d]=[]),j.dayView.threeHours[d].push({label:a.format(i.hoursFormat),year:a.year(),month:a.month(),date:a.date(),hour:a.hour(),class:e?a.isSame(j.valueMoment,"hour")?"selected":"":"disabled",selectable:e}),a.add(1,"hours")}return j.view.moment.format("LL")},setHour:function(a){a.selectable&&(j.view.update(j.view.moment.year(a.year).month(a.month).date(a.date).hour(a.hour)),j.view.change("hour"))}},j.hourView={minutes:[],render:function(){var a=0,b=j.view.moment.clone().startOf("hour"),c=i.minutesFormat||moment.localeData(j.locale).longDateFormat("LT").replace(/[aA]/,"");j.hourView.minutes=[];for(var d=0;d<60;d+=i.minutesStep){var e=Math.floor(a/4),f=j.limits.isSelectable(b,"minute");j.hourView.minutes[e]||(j.hourView.minutes[e]=[]),j.hourView.minutes[e].push({label:b.format(c),year:b.year(),month:b.month(),date:b.date(),hour:b.hour(),minute:b.minute(),class:f?b.isSame(j.valueMoment,"minute")?"selected":"":"disabled",selectable:f}),a++,b.add(i.minutesStep,"minutes")}return j.view.moment.clone().startOf("hour").format("lll")},setMinute:function(a){a.selectable&&(j.view.update(j.view.moment.year(a.year).month(a.month).date(a.date).hour(a.hour).minute(a.minute)),j.view.change("minute"))}},j.minuteView={seconds:[],render:function(){var a=0,b=j.view.moment.clone().startOf("minute");j.minuteView.seconds=[];for(var c=0;c<60;c+=i.secondsStep){var d=Math.floor(a/6),e=j.limits.isSelectable(b,"second");j.minuteView.seconds[d]||(j.minuteView.seconds[d]=[]),j.minuteView.seconds[d].push({label:b.format(i.secondsFormat),year:b.year(),month:b.month(),date:b.date(),hour:b.hour(),minute:b.minute(),second:b.second(),class:e?b.isSame(j.valueMoment,"second")?"selected":"":"disabled",selectable:e}),a++,b.add(i.secondsStep,"seconds")}return j.view.moment.clone().startOf("minute").format("lll")},setSecond:function(a){a.selectable&&(j.view.update(j.view.moment.year(a.year).month(a.month).date(a.date).hour(a.hour).minute(a.minute).second(a.second)),j.view.change("second"))}},j.picker=a.element('<span class="moment-picker"></span>'),k.after(j.picker),j.contents=k.addClass("moment-picker-contents").removeAttr("moment-picker"),j.icon=a.element(j.contents[0].querySelector(".input-group-addon")),j.container=e(j.template)(j),j.picker.append(j.contents),j.picker.append(j.container),j.views.detectMinMax(),j.limits.checkView(),j.$watch("model",function(b,c){if(a.isDefined(b)){if(null!==b)var d=Date.parse(b);if(!d||!d instanceof Date&&isNaN(d.valueOf())||"Invalid Date"===d)j.valueMoment=void 0;else{var e="L"===j.format||"L LT"===j.format?g("date")(b,"dateTime"):b;"MM"===j.format&&1===b.toString().length&&(e=("0"+b).slice(-2)),j.valueMoment=moment(e,j.format),j.view.moment=j.valueMoment.clone(),j.view.update()}j.valueUpdate(j.valueMoment),j.limits.checkValue()}}),j.$watch("value",function(b,d){if(a.isDefined(j.valueMoment)){var e=j.model,f=j.valueMoment.format(j.format);f!=e&&c(function(){j.view.update(j.view.moment=j.valueMoment.clone()),"false"===j.datetimeDefault&&("en"===moment.locale()&&(f=f.slice(0,11).concat(moment("12:00 AM","LT")._i)),"es"===moment.locale()&&(f=f.slice(0,11).concat(moment("12:00 a.m.","LT")._i))),j.model=f,a.isFunction(j.change)&&c(function(){j.change({newValue:f,oldValue:e})},0,!1)})}}),j.$watch("[view.selected, view.value]",j.view.render,!0),j.$watch("[minView, maxView]",function(){j.views.detectMinMax(),j.startView=j.views.all[Math.max(Math.min(j.views.all.indexOf(j.startView),j.views.all.indexOf(j.maxView)),j.views.all.indexOf(j.minView))],j.view.selected=j.startView}),j.$watch("[minDate, maxDate]",function(){a.forEach(["minDate","maxDate"],function(b){a.isDefined(j[b])&&(j[b+"Moment"]=moment(j[b],j.format,j.locale),j[b+"Moment"].isValid()||(j[b+"Moment"]=void 0))}),j.limits.checkValue(),j.limits.checkView(),j.view.render()},!0),j.$watch("locale",function(b,c){a.isDefined(c)&&b!=c&&(a.forEach(["model","minDate","maxDate"],function(d){a.isDefined(j[d])&&(j[d]=moment(j[d],j.format,c).locale(b).format(j.format))}),j.view.render())}),f.on("mouseup",function(){j.view.isOpen&&(c(j.view.close),a.element(j.icon).attr("state","dirty"))}),j.container.on("mouseup",function(a){a.stopPropagation()}),j.icon.on("mouseup",function(a){return a.stopPropagation(),(!a.currentTarget.attributes.hasOwnProperty("disabled")||"disabled"!==a.currentTarget.attributes.disabled.name)&&void c(j.view.isOpen?j.view.close:j.view.open)}),a.element(h).on("resize",j.view.position),f.on("keydown keypress",function(b){27===b.which&&(c(j.model=a.element(j.contents).find("input").val()),j.view.isOpen&&c(j.view.close))})},j}();a.module("moment-picker",[]).provider("momentPicker",[function(){return new b}]).directive("momentPicker",["$timeout","$sce","$compile","$document","$filter","$window","momentPicker",function(a,b,c,d,e,f,g){return new j(a,b,c,d,e,f,g)}])}(window.angular);
